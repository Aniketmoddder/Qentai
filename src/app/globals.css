
/* Swiper.js Styles */
@import 'swiper/css';
@import 'swiper/css/navigation';
@import 'swiper/css/effect-coverflow'; /* For ShowsCarousel */
@import 'swiper/css/autoplay'; /* For ShowsCarousel */
@import 'swiper/css/keyboard'; /* For Keyboard control */


@tailwind base;
@tailwind components;
@tailwind utilities;


@layer base {
  /* Default Theme (Qentai Premium Dark - Revamped) */
  :root, html[data-theme="dark-purple-premium"] {
    --background: 230 10% 6%; /* #0A0A13 - Rich Night Black */
    --foreground: 220 15% 96%; /* #F4F4F5 - Soft Light Gray */
    --card: 230 10% 10%; /* #12121A - Slightly Lighter Card Base */
    --card-foreground: 220 15% 96%;
    --popover: 230 12% 5%; /* #0A0A0F - Even Darker Popover */
    --popover-foreground: 220 15% 96%;
    --primary: 262 89% 66%; /* #8B5CF6 - Premium Neon Violet */
    --primary-foreground: 0 0% 100%; /* Pure White */
    --secondary: 200 90% 60%; /* #38BDF8 - Electric Cyan Blue */
    --secondary-foreground: 230 20% 7%; /* Darker for contrast on secondary */
    --muted: 230 10% 15%;  /* #1F2029 - Darker Muted */
    --muted-foreground: 220 10% 60%; /* Lighter Muted Text */
    --accent: 337 88% 70%; /* #F472B6 - Modern Candy Pink */
    --accent-foreground: 230 20% 7%; /* Dark text for pink accent */
    --destructive: 0 75% 58%; /* #E11D48 */
    --destructive-foreground: 0 0% 98%;
    --border: 230 8% 20%; /* #2A2E3B - Muted Divider Gray */
    --input: 230 10% 9%; /* #101015 - Slightly darker input */
    --ring: 200 90% 65%; /* #38BDF8 with slightly more pop for rings */
    --highlight: 188 82% 57%; /* #22D3EE - Aqua Glow */
    --surface: 230 12% 11%; /* #1E1B2E - Deep UI Card Color (used for card-like surfaces) */
    --text-heading: hsl(var(--foreground));
    --text-body: 220 12% 88%; /* #D9DCE1 - Slightly softer than pure foreground for body */
    --radius: 0.75rem;
    --chart-1: hsl(var(--primary)); --chart-2: hsl(var(--secondary)); --chart-3: hsl(var(--accent)); --chart-4: hsl(var(--highlight)); --chart-5: 220 12% 75%;
    --sidebar-background: hsl(var(--background)); --sidebar-foreground: hsl(var(--foreground)); --sidebar-border: hsl(var(--border)); --sidebar-accent: hsl(var(--primary) / 0.15); --sidebar-accent-foreground: hsl(var(--primary)); --sidebar-ring: hsl(var(--ring));
    /* Raw HSL for GSAP & Gradients */
    --primary-raw-hsl: 262 89% 66%;
    --secondary-raw-hsl: 200 90% 60%;
    --accent-raw-hsl: 337 88% 70%;
    --highlight-raw-hsl: 188 82% 57%;
    --border-raw-hsl: 230 8% 20%;
    --background-raw-hsl: 230 10% 6%;
    --foreground-raw-hsl: 220 15% 96%;
    --ranking-number-stroke-color-raw-hsl: 230 8% 20%; /* Muted Divider Gray for stroke */
    --ranking-number-stroke-color: hsla(var(--ranking-number-stroke-color-raw-hsl), 0.7);
    /* Plyr Player Theme Variables */
    --plyr-color-main: hsl(var(--primary));
    --plyr-color-focus: hsl(var(--ring));
    --plyr-tooltip-background: hsl(var(--popover));
    --plyr-tooltip-color: hsl(var(--popover-foreground));
    --plyr-menu-background: hsl(var(--popover));
    --plyr-menu-color: hsl(var(--popover-foreground));
    --plyr-menu-item-hover-background: hsl(var(--accent));
    --plyr-menu-item-hover-color: hsl(var(--accent-foreground));
    --plyr-control-radius: var(--radius);
    --plyr-font-family: var(--font-poppins), sans-serif;
    --plyr-font-size-time: 13px;
    --plyr-font-size-menu: 13px;
    --plyr-control-icon-size: 18px;
    --plyr-range-track-background: hsl(var(--muted) / 0.5);
    --plyr-range-thumb-height: 12px;
  }

  html[data-theme="light-pale-purple"] {
    --background: 220 60% 98%; --foreground: 222 47% 11%; --card: 0 0% 100%; --card-foreground: 222 47% 11%; --popover: 0 0% 100%; --popover-foreground: 222 47% 11%;
    --primary: 250 66% 62%; --primary-foreground: 0 0% 100%;
    --secondary: 173 78% 40%; --secondary-foreground: 0 0% 100%;
    --muted: 220 14% 93%; --muted-foreground: 220 10% 45%;
    --accent: 270 85% 77%; --accent-foreground: 222 47% 11%;
    --destructive: 0 84% 60%; --destructive-foreground: 0 0% 100%;
    --border: 220 13% 91%; --input: 0 0% 100%; --ring: 250 66% 67%;
    --highlight: 262 84% 72%; --surface: hsl(var(--card)); --text-heading: hsl(var(--foreground)); --text-body: hsl(var(--foreground)); --radius: 0.75rem;
    --chart-1: 250 66% 62%; --chart-2: 173 78% 40%; --chart-3: 270 85% 77%; --chart-4: 262 84% 72%; --chart-5: 220 10% 65%;
    --sidebar-background: hsl(var(--background)); --sidebar-foreground: hsl(var(--foreground)); --sidebar-border: hsl(var(--border)); --sidebar-accent: hsl(var(--primary) / 0.1); --sidebar-accent-foreground: hsl(var(--primary)); --sidebar-ring: hsl(var(--ring));
    /* Raw HSL */
    --primary-raw-hsl: 250 66% 62%;
    --secondary-raw-hsl: 173 78% 40%;
    --accent-raw-hsl: 270 85% 77%;
    --highlight-raw-hsl: 262 84% 72%;
    --border-raw-hsl: 220 13% 91%;
    --background-raw-hsl: 220 60% 98%;
    --foreground-raw-hsl: 222 47% 11%;
    --ranking-number-stroke-color-raw-hsl: 220 10% 45%;
    --ranking-number-stroke-color: hsla(var(--ranking-number-stroke-color-raw-hsl), 0.6);
     /* Plyr Player Theme Variables */
    --plyr-color-main: hsl(var(--primary));
    --plyr-color-focus: hsl(var(--ring));
    --plyr-tooltip-background: hsl(var(--popover));
    --plyr-tooltip-color: hsl(var(--popover-foreground));
    --plyr-menu-background: hsl(var(--popover));
    --plyr-menu-color: hsl(var(--popover-foreground));
    --plyr-menu-item-hover-background: hsl(var(--accent));
    --plyr-menu-item-hover-color: hsl(var(--accent-foreground));
    --plyr-control-radius: var(--radius);
    --plyr-font-family: var(--font-poppins), sans-serif;
    --plyr-font-size-time: 13px;
    --plyr-font-size-menu: 13px;
    --plyr-control-icon-size: 18px;
    --plyr-range-track-background: hsl(var(--muted));
    --plyr-range-thumb-height: 12px;
  }

  html[data-theme="kawaii-pink-vibe"] {
    --background: 287 50% 8%; --foreground: 287 100% 98%; --card: 287 67% 13%; --card-foreground: 287 100% 98%; --popover: 287 50% 6%; --popover-foreground: 287 100% 98%;
    --primary: 327 82% 60%; --primary-foreground: 287 100% 98%;
    --secondary: 352 96% 71%; --secondary-foreground: 287 50% 8%;
    --muted: 287 60% 11%; --muted-foreground: 287 30% 60%;
    --accent: 337 88% 70%; --accent-foreground: 287 50% 8%;
    --destructive: 0 70% 55%; --destructive-foreground: 0 0% 98%;
    --border: 287 67% 18%; --input: 287 67% 11%; --ring: 327 82% 65%;
    --highlight: 291 92% 72%; --surface: hsl(var(--card)); --text-heading: hsl(var(--foreground)); --text-body: hsl(var(--foreground)); --radius: 0.75rem;
    --chart-1: 327 82% 60%; --chart-2: 352 96% 71%; --chart-3: 337 88% 70%; --chart-4: 291 92% 72%; --chart-5: 287 30% 60%;
    --sidebar-background: hsl(var(--background)); --sidebar-foreground: hsl(var(--foreground)); --sidebar-border: hsl(var(--border)); --sidebar-accent: hsl(var(--primary) / 0.2); --sidebar-accent-foreground: hsl(var(--primary)); --sidebar-ring: hsl(var(--ring));
    /* Raw HSL */
    --primary-raw-hsl: 327 82% 60%;
    --secondary-raw-hsl: 352 96% 71%;
    --accent-raw-hsl: 337 88% 70%;
    --highlight-raw-hsl: 291 92% 72%;
    --border-raw-hsl: 287 67% 18%;
    --background-raw-hsl: 287 50% 8%;
    --foreground-raw-hsl: 287 100% 98%;
    --ranking-number-stroke-color-raw-hsl: 287 67% 18%;
    --ranking-number-stroke-color: hsla(var(--ranking-number-stroke-color-raw-hsl), 0.7);
     /* Plyr Player Theme Variables */
    --plyr-color-main: hsl(var(--primary));
    --plyr-color-focus: hsl(var(--ring));
    --plyr-tooltip-background: hsl(var(--popover));
    --plyr-tooltip-color: hsl(var(--popover-foreground));
    --plyr-menu-background: hsl(var(--popover));
    --plyr-menu-color: hsl(var(--popover-foreground));
    --plyr-menu-item-hover-background: hsl(var(--accent));
    --plyr-menu-item-hover-color: hsl(var(--accent-foreground));
    --plyr-control-radius: var(--radius);
    --plyr-font-family: var(--font-poppins), sans-serif;
    --plyr-font-size-time: 13px;
    --plyr-font-size-menu: 13px;
    --plyr-control-icon-size: 18px;
    --plyr-range-track-background: hsl(var(--muted) / 0.5);
    --plyr-range-thumb-height: 12px;
  }

  html[data-theme="futuristic-cyberpunk"] {
    --background: 231 25% 8%; --foreground: 220 13% 91%; --card: 231 25% 12%; --card-foreground: 220 13% 91%; --popover: 231 25% 6%; --popover-foreground: 220 13% 91%;
    --primary: 180 100% 50%; --primary-foreground: 231 25% 8%;
    --secondary: 300 100% 50%; --secondary-foreground: 231 25% 8%;
    --muted: 231 25% 10%; --muted-foreground: 220 10% 55%;
    --accent: 157 100% 50%; --accent-foreground: 231 25% 8%;
    --destructive: 0 100% 60%; --destructive-foreground: 0 0% 98%;
    --border: 231 25% 20%; --input: 231 25% 10%; --ring: 180 100% 55%;
    --highlight: 250 66% 62%; --surface: hsl(var(--card)); --text-heading: hsl(var(--foreground)); --text-body: hsl(var(--foreground)); --radius: 0.5rem;
    --chart-1: 180 100% 50%; --chart-2: 300 100% 50%; --chart-3: 157 100% 50%; --chart-4: 250 66% 62%; --chart-5: 220 10% 70%;
    --sidebar-background: hsl(var(--background)); --sidebar-foreground: hsl(var(--foreground)); --sidebar-border: hsl(var(--border)); --sidebar-accent: hsl(var(--primary) / 0.25); --sidebar-accent-foreground: hsl(var(--primary)); --sidebar-ring: hsl(var(--ring));
    /* Raw HSL */
    --primary-raw-hsl: 180 100% 50%;
    --secondary-raw-hsl: 300 100% 50%;
    --accent-raw-hsl: 157 100% 50%;
    --highlight-raw-hsl: 250 66% 62%;
    --border-raw-hsl: 231 25% 20%;
    --background-raw-hsl: 231 25% 8%;
    --foreground-raw-hsl: 220 13% 91%;
    --ranking-number-stroke-color-raw-hsl: 231 25% 20%;
    --ranking-number-stroke-color: hsla(var(--ranking-number-stroke-color-raw-hsl), 0.7);
    /* Plyr Player Theme Variables */
    --plyr-color-main: hsl(var(--primary));
    --plyr-color-focus: hsl(var(--ring));
    --plyr-tooltip-background: hsl(var(--popover));
    --plyr-tooltip-color: hsl(var(--popover-foreground));
    --plyr-menu-background: hsl(var(--popover));
    --plyr-menu-color: hsl(var(--popover-foreground));
    --plyr-menu-item-hover-background: hsl(var(--accent));
    --plyr-menu-item-hover-color: hsl(var(--accent-foreground));
    --plyr-control-radius: var(--radius);
    --plyr-font-family: var(--font-poppins), sans-serif;
    --plyr-font-size-time: 13px;
    --plyr-font-size-menu: 13px;
    --plyr-control-icon-size: 18px;
    --plyr-range-track-background: hsl(var(--muted) / 0.5);
    --plyr-range-thumb-height: 12px;
  }

  /* Global styles that apply to all themes */
  :root {
     --header-height: 4rem;
  }

  html {
    @apply overflow-x-hidden;
    -webkit-tap-highlight-color: transparent;
  }
  body {
    @apply bg-background text-foreground font-sans antialiased flex flex-col min-h-full overflow-x-hidden;
  }
  main {
    @apply flex-grow;
  }

  h1 { @apply font-zen-dots; }
  h2, h3 { @apply font-orbitron; }

  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: hsl(var(--background) / 0.3); border-radius: 10px; }
  ::-webkit-scrollbar-thumb { background: hsl(var(--secondary) / 0.8); border-radius: 10px; }
  ::-webkit-scrollbar-thumb:hover { background: hsl(var(--primary)); }
  * {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--secondary)) hsl(var(--background) / 0.3);
    @apply border-border;
  }
}

@layer utilities {
  .btn-primary-gradient {
    @apply text-primary-foreground transition-all duration-300 ease-in-out shadow-md hover:shadow-primary/50;
    background: hsl(var(--primary)); /* Fallback */
    background-size: 150% auto;
  }
  /* Theme specific gradients for buttons */
  html[data-theme="dark-purple-premium"] .btn-primary-gradient {
    background-image: linear-gradient(135deg, hsl(var(--primary-raw-hsl)) 0%, hsl(var(--secondary-raw-hsl)) 100%);
  }
  html[data-theme="light-pale-purple"] .btn-primary-gradient {
    background-image: linear-gradient(90deg, hsl(var(--primary-raw-hsl)) 0%, hsl(var(--secondary-raw-hsl)) 100%);
  }
  html[data-theme="kawaii-pink-vibe"] .btn-primary-gradient {
     background-image: linear-gradient(90deg, hsl(var(--primary-raw-hsl)) 0%, hsl(var(--highlight-raw-hsl)) 100%);
  }
  html[data-theme="futuristic-cyberpunk"] .btn-primary-gradient {
    background-image: linear-gradient(90deg, hsl(var(--primary-raw-hsl)) 0%, hsl(var(--secondary-raw-hsl)) 100%);
  }
  /* Universal hover effect */
  html[data-theme] .btn-primary-gradient:hover {
    background-position: right center;
  }

  .scrollbar-thin { scrollbar-width: thin; scrollbar-color: hsl(var(--muted)) transparent; }
  .scrollbar-thin::-webkit-scrollbar { width: 5px; height: 5px; }
  .scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
  .scrollbar-thin::-webkit-scrollbar-thumb { background: hsl(var(--muted)); border-radius: 3px; }
  .scrollbar-thin::-webkit-scrollbar-thumb:hover { background: hsl(var(--primary)); }

  .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
  .scrollbar-hide::-webkit-scrollbar { display: none; }

  .section-title-bar { @apply relative pl-4; }
  .section-title-bar::before { content: ''; @apply absolute left-0 top-1/2 -translate-y-1/2 h-3/5 w-[3px] bg-primary rounded-full; }

  .card-shadow { box-shadow: 0 4px 6px -1px hsl(var(--primary) / 0.1), 0 2px 4px -2px hsl(var(--primary) / 0.1); }
  .card-shadow:hover { box-shadow: 0 10px 15px -3px hsl(var(--primary) / 0.15), 0 4px 6px -4px hsl(var(--primary) / 0.15); }

  /* Live Search Dropdown */
  .live-search-dropdown {
    @apply absolute top-full left-0 right-0 mt-1.5 w-full max-h-96 overflow-y-auto rounded-md bg-popover border border-border shadow-xl z-50;
  }
  .live-search-item {
    @apply flex items-center gap-3 p-2.5 hover:bg-accent transition-colors cursor-pointer;
  }
  .live-search-item-image {
    @apply w-10 h-14 object-cover rounded-sm flex-shrink-0 bg-muted;
  }
  .live-search-item-details {
    @apply flex-grow min-w-0;
  }
  .live-search-item-title {
    @apply text-sm font-semibold text-foreground truncate;
  }
  .live-search-item-meta {
    @apply text-xs text-muted-foreground truncate;
  }
  .live-search-loader {
    @apply p-4 text-center text-muted-foreground;
  }
  .live-search-no-results {
    @apply p-4 text-center text-muted-foreground;
  }
  .player-report-banner {
    background-color: hsl(var(--destructive) / 0.1);
    color: hsl(var(--destructive));
    border: 1px solid hsl(var(--destructive) / 0.3);
    border-radius: var(--radius);
  }
}

/* Player Page Report Banner */
.report-banner {
  background-color: hsl(var(--destructive) / 0.1);
  color: hsl(var(--destructive));
  border-color: hsl(var(--destructive) / 0.3);
}

/* Player Page Server Buttons */
.server-button-group .server-button {
  /* Base styles for server buttons, can be adjusted */
  @apply text-xs px-2.5 py-1.5 h-auto font-medium;
  @apply border border-border/70 hover:border-primary hover:bg-primary/10;
  @apply focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background;
}

.server-button-group .server-button[data-active="true"] {
  /* Active server button styles */
  @apply bg-primary text-primary-foreground hover:bg-primary/90 hover:border-primary;
}
      
/* Ensure Plyr player takes available space in its container */
.plyr-container {
  width: 100%;
  height: 100%;
}

.plyr--video {
  height: 100%;
  width: 100%;
  border-radius: var(--radius); /* Consistent rounding with other elements */
}

.plyr__video-wrapper {
  border-radius: inherit;
}

/* Plyr Theming (using CSS variables defined in :root or theme-specific blocks) */
.plyr {
  --plyr-color-main: hsl(var(--primary));
  --plyr-color-focus: hsl(var(--ring)); /* Use ring for focus outline */

  --plyr-video-background: #000000; /* Keep player background black for video contrast */
  
  /* Controls styling */
  --plyr-control-radius: calc(var(--radius) - 2px);
  --plyr-control-spacing: 10px;
  --plyr-control-background: transparent;
  --plyr-control-color: hsl(var(--foreground));
  --plyr-control-color-hover: hsl(var(--primary));
  --plyr-control-toggle-checked-background: hsl(var(--primary));
  
  /* Progress bar */
  --plyr-range-track-background: hsl(var(--muted) / 0.5); /* Semi-transparent muted for track */
  --plyr-range-fill-background: hsl(var(--primary));
  --plyr-range-thumb-height: 12px;
  --plyr-range-thumb-background: hsl(var(--primary-foreground));
  --plyr-range-thumb-shadow: 0 1px 2px hsl(var(--background) / 0.4);
  --plyr-range-thumb-active-shadow-color: hsl(var(--primary) / 0.5);

  /* Tooltips */
  --plyr-tooltip-background: hsl(var(--popover));
  --plyr-tooltip-color: hsl(var(--popover-foreground));
  --plyr-tooltip-radius: var(--radius);
  --plyr-tooltip-arrow-size: 5px;
  --plyr-tooltip-padding: 5px 8px;

  /* Menus (Settings, Quality, etc.) */
  --plyr-menu-background: hsl(var(--popover));
  --plyr-menu-color: hsl(var(--popover-foreground));
  --plyr-menu-radius: var(--radius);
  --plyr-menu-shadow: 0 2px 10px hsl(var(--background) / 0.2);
  --plyr-menu-item-radius: calc(var(--radius) - 2px);
  --plyr-menu-item-arrow-color: hsl(var(--muted-foreground));
  --plyr-menu-item-arrow-size: 5px;
  --plyr-menu-button-color: hsl(var(--foreground));
  --plyr-menu-button-color-hover: hsl(var(--primary));
  --plyr-menu-item-hover-background: hsl(var(--accent)); /* Use accent for menu item hover */
  --plyr-menu-item-hover-color: hsl(var(--accent-foreground));

  /* Fonts */
  --plyr-font-family: var(--font-poppins), sans-serif;
  --plyr-font-size-base: 14px;
  --plyr-font-size-small: 12px;
  --plyr-font-size-menu: 13px;
  --plyr-font-size-time: 13px;
  --plyr-font-weight-regular: 400;
  --plyr-font-weight-bold: 600;

  /* Icon sizes */
  --plyr-control-icon-size: 18px;
}

/* Specific adjustments for better theme integration */
.plyr--audio .plyr__controls {
  background: hsl(var(--card));
  border-top: 1px solid hsl(var(--border));
  color: hsl(var(--card-foreground));
}

.plyr__menu__button[role="menuitemradio"][aria-checked="true"]::before {
  background: hsl(var(--primary));
}

/* Ensure focus rings are visible on player controls and match the theme */
.plyr :focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
  box-shadow: 0 0 0 4px hsl(var(--ring) / 0.3);
}
